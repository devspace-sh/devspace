version: v1beta11
vars:
  - name: IMAGE
    value: myusername/devspace
images:
  default:
    image: ${IMAGE}
    rebuildStrategy: ignoreContextChanges

deployments:
  my-deployment:
    helm:
      values:
        containers:
        - image: ${IMAGE}

dev:
  ports:
  - imageSelector: ${IMAGE}
    forward:
    - port: 8080
  sync:
  - imageSelector: ${IMAGE}
    onUpload:
      # this option tells devspace to restart the container process if something changes within
      # the container. This obviously only works if the restart helper script is present in the container.
      # You can either manually add the restart script or add the injectRestartHelper option to the image
      restartContainer: true
